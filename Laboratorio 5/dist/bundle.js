(()=>{"use strict";var e,t,n=function(e,t,n,i){return new(n||(n=Promise))((function(o,l){function r(e){try{c(i.next(e))}catch(e){l(e)}}function s(e){try{c(i.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.filmId="filmId",e.utitle="utitle",e.original_title="original_title",e.release_date="release_date",e.description="description",e.director="director"}(e||(e={}));class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys({filmId:null,utitle:null,original_title:null,release_date:null,description:null,director:null})}attributeChangedCallback(e,t,n){this[e]=n,this.render()}connectedCallback(){this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            <div>\n                <ul>\n                    <li>${this.utitle}</li>\n                    <li>${this.original_title}</li>\n                    <li>${this.release_date}</li>\n                    <li>${this.description}</li>\n                    <li>${this.director}</li>\n                </ul>\n            </div>\n            <custom-people id="people"></custom-people>\n            <button id="show-details">Show</button>\n            `,document.querySelector("#people"),document.querySelector("#show-details").addEventListener("click",(()=>{return e=this,t=void 0,o=function*(){if(this.filmId){const t=yield(e=this.filmId,n(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`https://ghibliapi.vercel.app/people/${e}`).then((e=>e.json())),{name:n,gender:i}=t;return{name:n,gender:i}}catch(e){console.log(e)}})));console.log(t)}var e},new((i=void 0)||(i=Promise))((function(n,l){function r(e){try{c(o.next(e))}catch(e){l(e)}}function s(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}));var e,t,i,o})))}}customElements.define("custom-film",i),function(e){e.name="name",e.gender="gender"}(t||(t={}));class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys({name:null,gender:null})}connectedCallback(){this.render()}attributedChangedCallback(e,t,n){this[e]=n,this.render()}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n                <div>\n                    <ul>\n                        <li>${this.name}</li>\n                        <li>${this.gender}</li>\n                    </ul>\n                </div>\n            `)}}customElements.define("custom-people",o);class l extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){return e=this,t=void 0,o=function*(){this.movies=yield n(void 0,void 0,void 0,(function*(){try{return yield fetch("https://ghibliapi.vercel.app/films").then((e=>e.json()))}catch(e){console.log(e)}})),console.log(this.movies),this.render()},new((i=void 0)||(i=Promise))((function(n,l){function r(e){try{c(o.next(e))}catch(e){l(e)}}function s(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,s)}c((o=o.apply(e,t||[])).next())}));var e,t,i,o}render(){var e;this.shadowRoot&&(this.shadowRoot.innerHTML=`\n            ${null===(e=this.movies)||void 0===e?void 0:e.map((e=>`\n                        <custom-film filmId = "${e.id}"\n                         utitle = "${e.title}"\n                         original_title = "${e.original_title_romanised}"\n                         release_date = "${e.release_date}"\n                         description = "${e.description}"\n                         director = "${e.director}">\n                        </custom-film>\n                         `)).join("")}\n            `)}}customElements.define("app-container",l)})();